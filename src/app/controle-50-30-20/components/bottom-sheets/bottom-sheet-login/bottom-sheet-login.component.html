<ng-template #logged>
  <div class="ml-auto mr-auto text-center my-3">
    <h3 class="main-color launch-title">SUA CONTA ESTÁ OK!</h3>
    <h4 class="m-0 p-2">
      Quanto mais vocês usam, mais dinheiro sobra!<br />
      Aproveitem o app!<br />
    </h4>
    <div class="btn-close">
      <button mat-button (click)="close()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="center center">
    <img
      src="./../../../../../assets/img/svg/statistics.svg"
      class="img-svg"
      alt=""
      fxFlex.lt-sm="50"
      fxFlex="40"
    />
  </div>
  <p class="description-small text-center my-3">
    E não se esqueça de analisar os gráficos!<br />
    Depois cê me conta, beleza?
  </p>
</ng-template>
<form [formGroup]="formGroup">
  <div *ngIf="!(loggedUser$ | async) as loggedUsed; else logged">
    <div class="container">
      <div
        class="w-100 inner-div my-3"
        fxLayout="column"
        fxLayoutAlign="center center"
      >
        <div class="w-100 logo" fxLayout="column" fxLayoutAlign="center center">
          <img src="../../../../assets/logo/avatar-dark.png" />
        </div>
      </div>
    </div>
    <div class="mt-1" fxLayoutAlign="center center">
      <img src="./../../../../../assets/img/svg/login.svg" class="img-svg" />
    </div>
    <h3 class="mx-5 text-center">Entre e faça o dinheiro sobrar</h3>
    <p class="description-small text-center">E viva a vida com qualidade</p>
    <div class="row">
      <div class="form-group w-100">
        <div
          class="input-group px-2"
          fxLayout="row"
          fxLayoutAlign="center center"
        >
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="material-icons">mail</i>
            </span>
          </div>
          <div>
            <input
              type="text"
              [formControl]="mail"
              class="form-control input-mail"
              placeholder="Insira o seu e-mail"
              required
            />
            <mat-error [innerHTML]="getErrorEmail(mail, 'mail')"> </mat-error>
          </div>
        </div>
        <div
          class="input-group px-2"
          fxLayout="row"
          fxLayoutAlign="center center"
        >
          <div class="input-group-prepend">
            <span class="input-group-text">
              <i class="material-icons">vpn_key</i>
            </span>
          </div>
          <div>
            <input
              type="password"
              [formControl]="password"
              class="form-control input-mail"
              placeholder="Insira o seu código"
              required
            />
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row my-1" *ngIf="!(loggedUser$ | async)">
    <div
      fxLayou="column"
      fxLayoutAlign="center center"
      class="ml-auto mr-auto text-center"
    >
      <a mat-stroked-button (click)="login()" class="mx-2">Entrar</a>
      <a mat-stroked-button (click)="newUser()" class="mx-2">Nova Conta</a>
    </div>
  </div>
</form>
